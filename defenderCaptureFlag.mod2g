use UTbot as knowledge.
use Action as actionspec.
exit = never.
order = linear.
module defenderCaptureFlag {
		% exit if flagState of opponent team is held
		if bel(self(_,_,Team), flagState(Team2,'held'), not(Team=Team2)) then exit-module.
		
		% exit if our own flag is not home, because then we need to go back to defending
		if bel(self(_,_,Team), flagState(Team,Status), not(Status='home')) then exit-module.
		
		% exit if you are not close to the enemy base anymore
		if bel(ownLocation(A,B,_), enemyBaseLocation(location(X,Y,_)), not(A>X-750), not(A<X+750), not(B>Y-750), not(B<Y+750)) then exit-module.
		
		% if you see a dropped flag then pick it up
		if bel(droppedFlagAt(Location), navigation(navigating,ID), not(ID=Location)) then stop. 
		if bel(droppedFlagAt(Location), not(navigation(navigating,_))) then navigate(Location).
	
		% go to the flag of the opponent
		if bel(self(_,_,Team), flagState(Team2,'home'), not(Team=Team2), enemyBaseLocation(Loc), navigation(navigating,ID), not(ID=Loc)) then stop.
		if bel(self(_,_,Team), flagState(Team2,'home'), not(Team=Team2), enemyBaseLocation(Loc), not(navigation(navigating,_))) then navigate(Loc).
}