use UTbot as knowledge.
use CaptureTheFlag as module.
use killModus as module.
use PickupArmor as module.
use PickupHealth as module.
use PickupOther as module.

use selectWeapon as module.
use Action as actionspec.
	


module attackMain {
	% pick up health on our way
	if a-goal(fraggedBot(UnrealID, location(X,Y,Z))) then stop + killModus.
	
	if bel(status(_,Armor), Armor < 80, item(_,'armor',_,_)) then PickupArmor.
	if bel(status(Health,_), Health < 100,(pickup(UnrealID,'health',_),item(_,_,_,UnrealID)), not(navigation('noPath',_)), not(navigation('stuck',_))) then PickupHealth.
	
	if a-goal(fraggedBot(UnrealID,location(X,Y,Z))), not(bel(weaponSelected)) then selectWeapon.
	if a-goal(captureFlag) then CaptureTheFlag.
	% Let the bot go to a module to pick up armor if needed.
	% pick up other items
	if bel(item(_,_,_,UnrealID), pickup(UnrealID,'other',O), not(O=invisibility), not(O=jump_boots), not(O=berserk), not(navigation('noPath',_)), not(navigation('stuck',_))) then PickupOther.
	
}